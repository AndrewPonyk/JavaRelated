# Production Profile Configuration

# Database - Azure PostgreSQL
quarkus.datasource.reactive.url=postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=require
quarkus.datasource.username=${DB_USERNAME}
quarkus.datasource.password=${DB_PASSWORD}

# Hibernate - Validate only in prod
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=false

# Connection Pool
quarkus.datasource.reactive.max-size=20

# Kafka - Azure Event Hubs
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS}
kafka.security.protocol=SASL_SSL
kafka.sasl.mechanism=PLAIN
kafka.sasl.jaas.config=${KAFKA_SASL_JAAS_CONFIG}

# Elasticsearch - Azure
quarkus.elasticsearch.hosts=${ES_HOSTS}
quarkus.elasticsearch.protocol=https
quarkus.elasticsearch.username=${ES_USERNAME}
quarkus.elasticsearch.password=${ES_PASSWORD}

# Redis - Azure Cache
quarkus.redis.hosts=${REDIS_HOST}
quarkus.redis.password=${REDIS_PASSWORD}
quarkus.redis.ssl=true

# Security - Enabled
quarkus.oidc.enabled=true
quarkus.oidc.auth-server-url=${OIDC_AUTH_URL}
quarkus.oidc.client-id=${AZURE_CLIENT_ID}
quarkus.oidc.credentials.secret=${AZURE_CLIENT_SECRET}

# Fraud API - Production
fraud.api.url=${FRAUD_API_URL}
fraud.api.key=${FRAUD_API_KEY}
fraud.api.timeout=3000

# Logging - JSON format for log aggregation
quarkus.log.level=INFO
quarkus.log.category."com.healthcare".level=INFO
quarkus.log.console.json=true
quarkus.log.console.json.exception-output-type=formatted

# OpenTelemetry - Azure Monitor
quarkus.otel.enabled=true
quarkus.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT}

# Native Build Optimizations
quarkus.native.enable-https-url-handler=true
quarkus.native.enable-all-security-services=true

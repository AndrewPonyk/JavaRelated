# =============================================================================
# ENTERPRISE DASHBOARD PLATFORM - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
#
# This file serves as a template for production environment variables.
# Copy this file to .env.production and fill in the actual values.
#
# SECURITY WARNING:
# - Never commit .env.production files to version control
# - Use strong, unique secrets for all credentials
# - Regularly rotate secrets and passwords
# - Consider using external secret management (AWS Secrets Manager, etc.)
#
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_NAME="Enterprise Dashboard Platform"
APP_VERSION="1.0.0"
PORT=3001
HOST=0.0.0.0

# Server timeout settings
REQUEST_TIMEOUT=30000
MAX_CONCURRENT_REQUESTS=1000

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# -----------------------------------------------------------------------------
# Replace with your production PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?options
DATABASE_URL="postgresql://dashboard_user:SECURE_DB_PASSWORD@db.production.company.com:5432/enterprise_dashboard?sslmode=require"
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000

# Database SSL Configuration (Recommended for production)
DATABASE_SSL_ENABLED=true
DATABASE_SSL_REJECT_UNAUTHORIZED=true

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
# Replace with your production Redis connection string
# For Redis with TLS: rediss://username:password@host:port
REDIS_URL="rediss://default:SECURE_REDIS_PASSWORD@redis.production.company.com:6380"
REDIS_PASSWORD="SECURE_REDIS_PASSWORD"
REDIS_TLS=true

# Redis connection settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_ON_FAILOVER=100
REDIS_ENABLE_READY_CHECK=true

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT Configuration - Use strong, unique secrets (minimum 64 characters)
JWT_SECRET="your-super-secure-jwt-secret-key-minimum-64-characters-long-for-production-security"
JWT_EXPIRY="24h"
JWT_REFRESH_EXPIRY="7d"

# Session Configuration
SESSION_SECRET="your-super-secure-session-secret-key-minimum-64-characters-long-for-production"
SESSION_TIMEOUT=86400

# Password Security
BCRYPT_ROUNDS=12

# CORS Configuration - Restrict to your production domains
CORS_ORIGIN="https://dashboard.yourcompany.com"

# Security Features
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true
CSRF_ENABLED=true
FORCE_HTTPS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# SSL/TLS CONFIGURATION
# -----------------------------------------------------------------------------
# SSL Certificate paths (if using file-based certificates)
SSL_CERT_PATH="/etc/ssl/certs/dashboard.crt"
SSL_KEY_PATH="/etc/ssl/private/dashboard.key"

# Let's Encrypt or Certificate Authority settings
SSL_CA_BUNDLE_PATH="/etc/ssl/certs/ca-bundle.crt"

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
LOG_LEVEL="info"
LOG_FILE_ENABLED=true
LOG_FILE_PATH="/app/logs"
LOG_MAX_SIZE="100m"
LOG_MAX_FILES="30d"

# External logging services
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
MONITORING_API_KEY="your-monitoring-service-api-key"

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION
# -----------------------------------------------------------------------------
# Email service configuration (SendGrid, AWS SES, etc.)
EMAIL_SERVICE_PROVIDER="sendgrid"
EMAIL_SERVICE_API_KEY="your-email-service-api-key"
EMAIL_FROM_ADDRESS="noreply@yourcompany.com"
EMAIL_FROM_NAME="Enterprise Dashboard"

# SMTP Configuration (alternative to API-based email)
SMTP_HOST="smtp.yourcompany.com"
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER="dashboard@yourcompany.com"
SMTP_PASSWORD="your-smtp-password"

# -----------------------------------------------------------------------------
# FILE STORAGE & CDN
# -----------------------------------------------------------------------------
# Static asset configuration
STATIC_ASSETS_PATH="/app/public"
CDN_URL="https://cdn.yourcompany.com"

# File upload configuration
UPLOAD_MAX_SIZE="10mb"
UPLOAD_ALLOWED_TYPES="image/jpeg,image/png,image/gif,application/pdf"
UPLOAD_STORAGE_PATH="/app/uploads"

# AWS S3 Configuration (if using S3 for file storage)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
AWS_S3_BUCKET="your-dashboard-assets-bucket"

# -----------------------------------------------------------------------------
# WEBSOCKET CONFIGURATION
# -----------------------------------------------------------------------------
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=3002
WEBSOCKET_PATH="/ws"
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_MAX_CONNECTIONS=10000

# WebSocket Rate Limiting
WEBSOCKET_CONNECTION_RATE_LIMIT=10
WEBSOCKET_MESSAGE_RATE_LIMIT=100

# -----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_STORAGE_PATH="/app/backups"
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"

# External backup storage (AWS S3, Azure Blob, etc.)
BACKUP_EXTERNAL_ENABLED=true
BACKUP_S3_BUCKET="your-dashboard-backups-bucket"
BACKUP_ENCRYPTION_KEY="your-backup-encryption-key-64-characters-long-for-security"

# -----------------------------------------------------------------------------
# PERFORMANCE & MONITORING
# -----------------------------------------------------------------------------
# Performance settings
ENABLE_COMPRESSION=true
CACHE_TTL=3600
CACHE_WARMUP_ENABLED=true

# Performance monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_METRICS_RETENTION_HOURS=24

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_EXTERNAL_SERVICES=true

# -----------------------------------------------------------------------------
# EXTERNAL SERVICES
# -----------------------------------------------------------------------------
# Analytics service (Google Analytics, Mixpanel, etc.)
ANALYTICS_ENABLED=true
ANALYTICS_PROVIDER="google"
ANALYTICS_TRACKING_ID="GA-XXXXXX-X"

# Social authentication (if enabled)
GOOGLE_CLIENT_ID="your-google-oauth-client-id"
GOOGLE_CLIENT_SECRET="your-google-oauth-client-secret"

GITHUB_CLIENT_ID="your-github-oauth-client-id"
GITHUB_CLIENT_SECRET="your-github-oauth-client-secret"

# Third-party integrations
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/your/slack/webhook"
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/your/discord/webhook"

# -----------------------------------------------------------------------------
# DATA CONNECTION ENCRYPTION
# -----------------------------------------------------------------------------
# Encryption key for database credentials stored in data connections
# Must be at least 32 characters for AES-256-GCM encryption
CREDENTIAL_ENCRYPTION_KEY="your-32-character-minimum-encryption-key-for-credentials"

# -----------------------------------------------------------------------------
# SECRETS MANAGEMENT
# -----------------------------------------------------------------------------
# Local encryption for secrets file (if using file-based secrets)
SECRETS_ENCRYPTION_KEY="your-64-character-hex-key-for-local-secrets-encryption-security"
SECRETS_FILE_PATH="/app/secrets/secrets.json"

# AWS Secrets Manager (if using AWS for secrets management)
AWS_SECRETS_MANAGER_ENABLED=false
AWS_SECRETS_REGION="us-east-1"

# HashiCorp Vault (if using Vault for secrets management)
VAULT_ENABLED=false
VAULT_URL="https://vault.yourcompany.com:8200"
VAULT_TOKEN="your-vault-token"

# Azure Key Vault (if using Azure for secrets management)
AZURE_KEY_VAULT_ENABLED=false
AZURE_KEY_VAULT_URL="https://your-vault.vault.azure.net/"
AZURE_TENANT_ID="your-azure-tenant-id"
AZURE_CLIENT_ID="your-azure-client-id"
AZURE_CLIENT_SECRET="your-azure-client-secret"

# -----------------------------------------------------------------------------
# CONTAINER & DEPLOYMENT
# -----------------------------------------------------------------------------
# Docker configuration
DOCKER_REGISTRY="your-company-registry.com"
DOCKER_IMAGE_TAG="latest"

# Kubernetes configuration
KUBERNETES_NAMESPACE="production"
KUBERNETES_SERVICE_NAME="enterprise-dashboard"

# Load balancer and proxy settings
TRUST_PROXY=true
PROXY_TIMEOUT=300000

# -----------------------------------------------------------------------------
# SECURITY & COMPLIANCE
# -----------------------------------------------------------------------------
# Security settings
STRICT_SECURITY=true
EXIT_ON_UNHANDLED_REJECTION=true
ENABLE_SECURITY_HEADERS=true

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# Data retention
DATA_RETENTION_ENABLED=true
USER_DATA_RETENTION_DAYS=2555  # 7 years
ANALYTICS_DATA_RETENTION_DAYS=1095  # 3 years

# -----------------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING (Production values)
# -----------------------------------------------------------------------------
# Debug settings (keep false in production)
DEBUG_ENABLED=false
VERBOSE_LOGGING=false

# API documentation (disable in production)
ENABLE_API_DOCS=false
SWAGGER_UI_ENABLED=false

# Development tools (disable in production)
ENABLE_DEV_TOOLS=false
HOT_RELOAD_ENABLED=false

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure:
#
# 1. All placeholder values are replaced with actual production values
# 2. Secrets are generated using cryptographically secure methods
# 3. Database and Redis instances are properly configured with SSL/TLS
# 4. CORS origins are restricted to your production domains only
# 5. SSL/TLS certificates are properly configured and valid
# 6. Monitoring and logging services are set up and configured
# 7. Backup systems are tested and verified
# 8. Performance monitoring is enabled
# 9. Health checks are configured for all critical services
# 10. Security headers and rate limiting are properly configured
#
# =============================================================================